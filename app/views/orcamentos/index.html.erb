<h2>Orçamentos</h2>

<div class="page-header">
  <%= link_to "javascript:window.location.assign('/orcamentos/new')", class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span>
    Novo
  <% end %>
  <h3>Lista</h3>
</div>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>Orçamento</th>
        <th>Cliente</th>
        <th>Data Emissão</th>
        <th style="width: 100px;">Valor Total</th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @orcamentos) do |orcamento| %>
        <td style="text-align: end;"><%= orcamento.id %></td>
        <td><%= orcamento.cliente.nome rescue "" %><%= orcamento.cliente.nome rescue "" %></td>
        <td style="text-align: center;"><%= orcamento.data_emissao.strftime("%d/%m/%Y") rescue "" %></td>
        <td style="text-align: end;"><%= number_to_currency(orcamento.valor_total) %></td>
        <td><%= link_to 'Itens', orcamento_orcamento_itens_path(orcamento) %></td>
        <td><%= link_to 'PDF', orcamento_path(orcamento, format: :pdf), class:"btn btn-success" %></td>
        <td><%= link_to 'Mostrar', orcamento, class: "btn btn-primary" %></td>
        <td><a href="javascript:window.location.assign('/orcamentos/<%=orcamento.id%>/edit')" class="btn btn-warning">Editar</a></td>
        <td><%= link_to 'Apagar', orcamento, method: :delete, data: { confirm: 'Confirma ?' }, class: "btn btn-danger" %></td>
      <% end %>
    </tbody>
  </table>

  <div class="apple_pagination">
    <%= will_paginate @orcamentos, :container => false %>
  </div>    
</div>
