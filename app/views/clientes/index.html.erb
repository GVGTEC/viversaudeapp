<h1>Clientes</h1>

<div class="page-header">
  <form action="/clientes/importar" enctype='multipart/form-data' method="post">
    <div style="clear:both">
      <dt>Importar Clientes (CSV):</dt>
      <dd><input type="file" class="form-control" name="arquivo" style="clear:both"/></dd>
      <br>
      <input type="submit" value="Importar" class="btn btn-primary">
    </div>
  </form>

  <%= link_to "javascript:window.location.assign('/clientes/new')", class: 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-plus"></span>
    Novo
  <% end %>
  <h2>Lista</h2>
</div>

<div style="text-align: right; margin-top:10px; margin-bottom:10px">
    <form action="/clientes" method="get">
      <div class="row" style="width:300px;display: inline-block;">
        <div style="float: left">
          <input type="text" name="nome" value="<%=params[:nome] %>" class="form-control" placeholder="Busca..">
       </div>
       <div style="float: left;margin-left:5px">
          <input type="submit" class="btn btn-primary" value="Buscar">
       </div>
      </div>
    </form>
</div>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>Nome/Razão Social</th>
        <th>Endereço</th>
        <th>Bairro</th>
        <th>Cidade</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <%= content_tag_for(:tr, @clientes) do |cliente| %>
            <td><%= cliente.nome %></td>
            <td><%= cliente.endereco %></td>
            <td><%= cliente.bairro %></td>
            <td><%= cliente.cidade %></td>
            <td><%= link_to 'Mostrar', cliente %></td>
        <td><%= link_to 'Editar', edit_cliente_path(cliente) %></td>
        <td><%= link_to 'Apagar', cliente, method: :delete, data: { confirm: 'Confirma ?' } %></td>
      <% end %>
    </tbody>
  </table>

  <div class="apple_pagination">
    <%= will_paginate @clientes, :container => false %>
  </div>
</div>
